-- >>PRE-COMPILER<<                                              */
--   >>CRTCMD<<  RUNSQLSTM SRCFILE(&SL/&SF) SRCMBR(&SM);         */
--   >>IMPORTANT<<                                               */
--     >>PARM<<  COMMIT(*NONE);                                  */
--     >>PARM<<  NAMING(*SQL);                                   */
--     >>PARM<<  DFTRDBCOL(&LI);                                 */
--   >>END-IMPORTANT<<                                           */
--   >>EXECUTE<<                                                 */
-- >>END-PRE-COMPILER<<                                          */
BEGIN
   DECLARE CONTINUE HANDLER FOR SQLEXCEPTION
      BEGIN END;
   DROP TABLE LOTS;
END;

CREATE TABLE LOTS (
ROWID_LOTS FOR COLUMN ROWIDLOTS ROWID,
LOT_NUMBER FOR COLUMN NUMLOT INTEGER  NOT NULL
GENERATED ALWAYS AS IDENTITY
   (MINVALUE 1
    MAXVALUE 999999999
   INCREMENT BY 1),
LIBELLE_LOTS FOR COLUMN LIBELLOT
                           CHAR(50) CCSID 1147 NOT NULL DEFAULT '',
LISTE_BIBLIO_PROJET FOR COLUMN LISTBIBPRJ CHAR(10)
                                    CCSID 1147 NOT NULL DEFAULT '',
BIBLIO_LOT FOR COLUMN BIBLOT CHAR(10) CCSID 1147 NOT NULL DEFAULT '',
DESCRIPTION_LOTS FOR COLUMN DESCRIPLOT
                           VARCHAR(2048) CCSID 1147 NOT NULL DEFAULT '',
STATUTS_LOT FOR COLUMN STATLOT CHAR( 1) CCSID 1147 NOT NULL DEFAULT '',
TIMESTAMP_CREATION FOR COLUMN TIMECRT TIMESTAMP NOT NULL DEFAULT,
USER_CREATION FOR COLUMN USRCRT CHAR(10) CCSID 1147 NOT NULL DEFAULT '',
TIMESTAMP_MAJ FOR COLUMN TIMEMAJ TIMESTAMP FOR EACH ROW ON UPDATE
                                        AS ROW CHANGE TIMESTAMP NOT NULL,
USER_MODIFICATION FOR COLUMN USRMAJ CHAR(10) CCSID 1147 NOT NULL DEFAULT '')
RCDFMT LOTSF;

LABEL ON TABLE LOTS
	IS 'Configuration des lots' ;



GRANT ALTER , DELETE , INDEX , INSERT , REFERENCES , SELECT , UPDATE
ON LOTS TO PUBLIC WITH GRANT OPTION ;

GRANT ALTER , DELETE , INDEX , INSERT , REFERENCES , SELECT , UPDATE
ON LOTS TO QPGMR WITH GRANT OPTION ;